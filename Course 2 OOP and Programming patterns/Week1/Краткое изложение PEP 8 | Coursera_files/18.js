(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"/n4p":function(module,exports,e){"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCompatibleWithMobile=exports.getDeviceDimensions=void 0;var t=function getDeviceDimensions(){var e,t;if("undefined"!=typeof document&&"undefined"!=typeof window){var r,s=window.screen,o,a;if(void 0!==window.screen)e=s.height,t=s.width;else e=window.innerHeight,t=window.innerWidth}else e=0,t=0;return{deviceHeight:e,deviceWidth:t}};exports.getDeviceDimensions=t;var r=function isCompatibleWithMobile(e){var r=e.supportsTouch,s=e.minWidthPx,o=e.minHeightPx,a=t(),n=a.deviceWidth,i=a.deviceHeight;if(!1===r)return!1;if(void 0!==s&&s>n)return!1;if(void 0!==o&&o>i)return!1;return!0};exports.isCompatibleWithMobile=r},"3lwQ":function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.markItemStarted=exports.markItemComplete=void 0;var r=t(e("J610")),s=e("vpeK"),o=t(e("IAOZ")),a=function refreshProgress(e,t,r,o){r.setState(t,{refreshCourseProgress:!0}),e.executeAction(s.updateProgress,{courseProgress:o})},n=function markItemComplete(e,t){var s=t.itemId,n=t.courseId,i=t.userId,d=t.itemProgress,u=t.courseProgress,l=t.sessionId;return r.default.markComplete(s,n,i,l).then(a(e,o.default.progressCompleted,d,u))};exports.markItemComplete=n;var i=function markItemStarted(e,t){var s=t.itemId,n=t.courseId,i=t.userId,d=t.itemProgress,u=t.courseProgress,l=t.sessionId;return r.default.markStarted(s,n,i,l).then(a(e,o.default.progressStarted,d,u))};exports.markItemStarted=i},G4vT:function(module,exports,e){var t=e("Kx1Y"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var s={transform:void 0},o=e("aET+")(t,s);t.locals&&(module.exports=t.locals)},J610:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.markStarted=exports.markComplete=exports.default=void 0;var r=t(e("wiyT")),s,o=(0,t(e("CWYE")).default)("/api/onDemandWidgetProgress.v1",{type:"rest"}),a={markComplete:function markComplete(e,t,s,a){var n={data:{sessionId:a,progressState:"Completed"}},i=[s,t,e].join("~");return(0,r.default)(o.put(i,n))},markStarted:function markStarted(e,t,s,a){var n={data:{sessionId:a,progressState:"Started"}},i=[s,t,e].join("~");return(0,r.default)(o.put(i,n))}},n=a;exports.default=n;var i=a.markComplete,d=a.markStarted;exports.markStarted=d,exports.markComplete=i},JK8X:function(module,exports,e){"use strict";var t=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=t(e("pVnL")),s=t(e("MVZn")),o=t(e("VbXa")),a=t(e("sbe7")),n,i=function componentDataFetcher(e,t){var n=e.displayName||e.name,i=function(i){function DataFetcherComponent(){for(var e,t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];return(e=i.call.apply(i,[this].concat(r))||this).displayName=n+"DataFetcher",e.state={isComponentLoaded:!1},e}(0,o.default)(DataFetcherComponent,i);var d=DataFetcherComponent.prototype;return d.componentDidMount=function componentDidMount(){var e=this,r=this.props,o=this.context,a=o.router,n=t(r,a.params,o).then(function(t){e.setState((0,s.default)({isComponentLoaded:!0},t))});n.catch&&n.catch(function(e){throw e}),n.done&&n.done()},d.render=function render(){return a.default.createElement(e,(0,r.default)({},this.props,this.state))},DataFetcherComponent}(a.default.Component);return i.contextTypes={executeAction:a.default.PropTypes.func,router:a.default.PropTypes.object},i.BaseComp=e,i};exports.default=i},Kx1Y:function(module,exports,e){},Uyjj:function(module,exports,e){"use strict";var t=e("284h"),r=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=r(e("VbXa")),o=t(e("sbe7")),a=e("kvW3");e("G4vT");var n=r(e("gKW9")),i="https://s3.amazonaws.com/coursera_assets/widget/svgcomputer.svg",d,u=function(e){function UnavailableOnMobileMessage(){return e.apply(this,arguments)||this}var t;return(0,s.default)(UnavailableOnMobileMessage,e),UnavailableOnMobileMessage.prototype.render=function render(){var e=this.props.name;return o.createElement("div",{className:"rc-UnavailableOnMobileMessage vertical-box align-items-absolute-center"},o.createElement("div",{className:"headline-5-text p-x-1"},e),o.createElement("div",{className:"body-1-text p-x-1 p-b-2"},o.createElement(a.FormattedMessage,{message:(0,n.default)("This item was not designed for use on a small screen.")})),o.createElement("div",{className:"align-horizontal-center p-b-2"},o.createElement("img",{className:"computer-icon",src:i,alt:(0,n.default)("Computer Icon"),height:"120",width:"220"})),o.createElement("div",{className:"body-1-text horizontal-box align-horizontal-center p-x-1"},o.createElement(a.FormattedMessage,{message:(0,n.default)("Please use a computer or laptop to complete this item.")})))},UnavailableOnMobileMessage}(o.Component);exports.default=u},W9re:function(module,exports,e){var t=e("hkLr"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var s={transform:void 0},o=e("aET+")(t,s);t.locals&&(module.exports=t.locals)},hkLr:function(module,exports,e){},rm1M:function(module,exports,e){"use strict";var t=e("284h"),r=e("TqRt");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var s=r(e("VbXa")),o=t(e("sbe7")),a=r(e("w/1P")),n=e("MnCE"),i=e("Bgbc"),d=r(e("wiyT")),u=r(e("sQ/U")),l=r(e("y1LI")),m=r(e("dT9E")),c=e("lmGf"),p=e("ZmB8"),f=e("/n4p"),g=e("3lwQ"),v=r(e("rFDR")),h=r(e("h3JU")),I=r(e("Uyjj")),C=r(e("JK8X")),b=r(e("eBhw")),P=r(e("tODj")),y=r(e("gABk")),S=r(e("b+bd"));e("W9re");var k=[p.RPCActions.SET_COMPLETE],w=function(e){function WidgetItem(){for(var t,r=arguments.length,s=new Array(r),o=0;o<r;o++)s[o]=arguments[o];return(t=e.call.apply(e,[this].concat(s))||this).state={iFrameMessages:[],widgetId:(0,c.generateId)(),itemProgressState:null,markCompleteDeferred:null},t.onReceiveMessage=function(e){var r=t.state.iFrameMessages;if(r.push(e),t.setState({iFrameMessages:r}),e.type===p.RPCActions.SET_COMPLETE){t.markComplete();var s=d.default.defer();return t.setState({markCompleteDeferred:s}),s.promise}return(0,d.default)()},t.markComplete=function(){var e=t.props,r=e.computedCourseProgress.courseProgress,s=e.computedItem,o=e.courseId,a=e.sessionId,n=r.getItemProgress(s.id),i=u.default.get().id,d=s.id;t.context.executeAction(g.markItemComplete,{itemId:d,courseId:o,userId:i,itemProgress:n,courseProgress:r,sessionId:a})},t.markStarted=function(){var e=t.props,r=e.computedCourseProgress.courseProgress,s=e.computedItem,o=e.courseId,a=e.sessionId,n=r.getItemProgress(s.id),i=u.default.get().id,d=s.id;t.context.executeAction(g.markItemStarted,{itemId:d,courseId:o,userId:i,itemProgress:n,courseProgress:r,sessionId:a})},t.isOnMobile=function(){var e,r=t.context.getStore("ApplicationStore").getUserAgent(),s=r&&r.isMobileBrowser;return m.default.get()||s},t}(0,s.default)(WidgetItem,e);var t=WidgetItem.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props,r=t.computedItem,s,o=t.computedCourseProgress.courseProgress.getItemProgress(r.id);o.getState()!==this.state.itemProgressState&&(this.setState({itemProgressState:o.getState()}),this.state.markCompleteDeferred&&(this.state.markCompleteDeferred.resolve(),this.setState({markCompleteDeferred:null})))},t.render=function render(){var e=this,t=this.props,r=t.session,s=t.sessionId,n=t.computedItem;if(!r)return o.createElement("div",{className:"horizontal-box align-items-absolute-center widget-iframe"},o.createElement(l.default,{name:"spinner",size:"2x",spin:!0,className:"color-hint-text"}));if(this.isOnMobile()&&!(0,f.isCompatibleWithMobile)(n.contentSummary.definition))return o.createElement(I.default,{name:n.name});return o.createElement("div",{className:(0,a.default)("rc-WidgetItem",{mobile:this.isOnMobile()})},o.createElement(v.default,{inWidgetItem:!0,session:r,sessionId:s,widgetId:this.state.widgetId,parentRpcActions:k,isComplete:n.isCompleted,widgetContentTitle:n.name,markComplete:function markComplete(){e.markComplete()}}),o.createElement(i.Box,{justifyContent:"end",style:{marginTop:"50px",borderTop:"1px solid #ddd",paddingTop:"15px"}},o.createElement(h.default,{computedItem:n,itemFeedbackType:"widget"})))},WidgetItem}(o.Component);w.contextTypes={executeAction:o.PropTypes.func.isRequired,getStore:o.PropTypes.func};var M=(0,C.default)(w,function(e,t){var r=e.computedItem,s=e.courseId,o=e.courseSlug,a;return new b.default({itemId:r.id,courseId:s,courseSlug:o}).getWithUserCourseItemId("onDemandWidgetSessions.v1",{fields:["session","sessionId"]}).then(function(e){var t=e.elements[0],r,s;return{session:t.session,sessionId:t.sessionId}})}),x,T=(0,n.compose)((0,P.default)(),(0,y.default)(),(0,S.default)(["CourseStore"],function(e){var t=e.CourseStore;return{courseId:t.getCourseId(),courseSlug:t.getCourseSlug()}}))(M);exports.default=T}}]);
//# sourceMappingURL=18.c003d18c88dbe30da41e.js.map